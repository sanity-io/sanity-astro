---
import { VisualEditing as InternalVisualEditing, type VisualEditingOptions } from '@sanity/visual-editing/react'

export interface Props extends Pick<VisualEditingOptions, 'zIndex'> {
  enabled?: boolean
}

const {enabled, zIndex} = Astro.props
---

{enabled ? <InternalVisualEditing client:load zIndex={zIndex} refresh={() => {
  return new Promise((resolve) => {
    window.location.reload()
    resolve()
  })
}} /> : null}
